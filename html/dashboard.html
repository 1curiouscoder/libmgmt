<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Dashboard</title>
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="jquery/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<style>
  .bs-example{
      margin: 20px;
    }
</style>

<script>

    $(document).ready(function(){ 
        $("#myTab a").click(function(e){
            e.preventDefault();
            $(this).tab('show');

        });
    });

    </script>
    <script type="text/javascript">
      
 $(document).ready(function(){
  $.ajax({url: "../traverse.php", success: function(result){
  $("#div2").append(result);}});
      });

$(document).ready(function(){
    $("a.method").click(function(){
    var method = $(this).text();
    if(method == "Manual"){
        $("div.add").html('   <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Insertion At                </button>             <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">                            <a class="dropdown-item At" href="#" id ="Start" value="Start">Start</a>                                     <a class="dropdown-item At" href="#"  id="End" value="End">End</a>                                          <a class="dropdown-item At" href="#" id="Between" value="import">Between</a>                                          </div>');
          $("div.form").empty();
        }
  
    $(".At").click(function(){
        $("div.form").html('<form>  <div class="form-group prepend">    <label for="Accn" id="label">Accession no.</label>    <input type="text" class="form-control" id="Accn" aria-describedby="emailHelp" placeholder="1" readonly=true>    <small id="emailHelp" class="form-text text-muted"></small>  </div>  <div class="form-group">    <label for="author">Author</label>    <input type="text" class="form-control" id="author">  </div>   <div class="form-group">    <label for="title">Title</label>    <input type="text" class="form-control" id="title">  </div>   <div class="form-group">    <label for="Volume">Volume</label>    <input type="text" class="form-control" id="Volume">  </div>   <div class="form-group">    <label for="publisher">Publisher</label>    <input type="text" class="form-control" id="publisher">  </div>   <div class="form-group">    <label for="yop">year of Pub.</label>    <input type="text" class="form-control" id="yop">  </div>   <div class="form-group">    <label for="pages">Pages</label>    <input type="text" class="form-control" id="pages">  </div>   <div class="form-group">    <label for="sourc">Source</label>    <input type="text" class="form-control" id="sourc">  </div>   <div class="form-group">    <label for="clsno">Class No.</label>    <input type="text" class="form-control" id="clsno">  </div>   <div class="form-group">    <label for="bookno">Book no.</label>    <input type="text" class="form-control" id="bookno">  </div>   <div class="form-group">    <label for="withd">Withdrawn date</label>    <input type="text" class="form-control" id="withd">  </div>   <div class="form-group">    <label for="entr">Entry date</label>    <input type="text" class="form-control" id="entr">  </div>  <div class="form-group">    <label for="ddc">DDC no.</label>    <input type="text" class="form-control" id="ddc">  </div>   <div class="form-group">    <label for="remarks">Remarks</label>    <input type="text" class="form-control" id="remarks">  </div>  <button type="submit" class="btn btn-primary">Submit</button></form>');   





         });

        




       $("a#End").click(function(){
               
               $.post(
                  "../query.php",
                  { query: "insertatend" },
                  function(data) {
                     $("#Accn").attr("placeholder",data);

                  }
               );            
            });

    $("a#Between").click(function(){
                 $("#label").html("Ending accession no.");  
                $("#Accn").attr({placeholder:null,readonly:false,id:"endAccn"});
               
                $(".prepend").prepend('<div class="form-group"> <label for="startAccn">Starting accession no.</label>    <input type="text" class="form-control" id="startAccn" aria-describedby="emailHelp" placeholder=""></div>');
               
         });
             
                        if(method == "Importing file")              {  $("div.add").empty();                   $("div.form").html('<form class="md-form"  method="post" enctype="multipart/form-data" id="myform">                                                                 <div class="input-group mb-3">  <div class="input-group-prepend">    <button class="btn btn-outline-secondary" type="button" id="inputGroupFileAddon03">Button</button>  </div>  <div class="custom-file">    <input type="file" class="custom-file-input" id="inputGroupFile03" aria-describedby="inputGroupFileAddon03">    <label class="custom-file-label" for="inputGroupFile03">Choose file</label>  </div></div>                                                                                             </form>');                                }




    });   }); 


//Jquery for the Search Tab
$(document).ready(function(){
$("a.method2").click(function(){
var val = $(this).text();
var c=0;
$("#srchdata").attr("placeholder",val);
$("button#srchmthd").text(val);
$("button#filter").css("visibility","hidden");
$("div#childfilter").css("visibility","hidden");
$("#srchfrm input").css("visibility","hidden");
if(val != "Accession Id" ) 
// displays options when user selects accession id from dropdown
  {
  $("button#filter").css("visibility","");
  }
else
{
  $("button#filter").css("visibility","hidden");
  $("#btnchildfilter").css("visibility","hidden");
}      
        });
    });


$(document).ready(function(){
  var c=0; //used to check if the filters are hidden
$("button#filter").click(function()
  {
    
    $("#srchfrm input").css("visibility","hidden");
    if($("div#childfilter").css("visibility") != "hidden")
    {     
      $("div#childfilter").css("visibility","hidden");
      $("button#btnchildfilter").css("visibility","hidden");
      
    }
    else
    {
      $("div#childfilter").css("visibility","");
      $("button#btnchildfilter").css("visibility","");
      //alert($("button#srchmthd").attr('id')+"childfilter");
      var chk = $('button#srchmthd').text().toLowerCase().replace(' ', '');
      chk = chk.replace(" ","");
      chk = chk.replace(".","");
      $("[value="+chk+"]").css("visibility","hidden");
       
    }   
  });
    
});

$(document).ready(function(){
  $("button#btnchildfilter").click(function(){
    
        $("#srchfrm").css("visibility","");
        var obj = "#srchfrm"+ $(this).attr("value");
        //alert(obj);
        if($(obj).css("visibility") == "hidden")
        {
          $(obj).css("visibility","");
        }
        else
        {
          $(obj).css("visibility","hidden");
        }
    });
});

$(document).ready(function(){
    $("#srch").click(function(){
              var srch =   $("#srchdata").val(); 
              var srch1 =  $("#srchfrmauthor").val(); 
              var srch2 =  $("#srchfrmtitle").val(); 
              var srch3 =  $("#srchfrmvolume").val(); 
              var srch4 =  $("#srchfrmpublisher").val(); 
              var srch5 =  $("#srchfrmyearofpublication").val(); 
              var srch6 =  $("#srchfrmcost").val(); 
              var srch7 =  $("#srchfrmwithdrawndate").val(); 
              var srch8 =  $("#srchfrmentrydate").val();
              var qdata = [];
              var srchtype = $("#srchdata").attr('placeholder');
               $.post(
                  "../query.php",
                  {"query" : "search","srchtype" : srchtype,0 : srch,1 : srch1,2 : srch2,3: srch3,4: srch4,5: srch5,6: srch6,7: srch7,8: srch8},
                  function(data) {
                     //$("#Accn").attr("placeholder",data);
                     alert(data);
                  }
               );            
            });
});



          </script>
</head>
<body>
<div class="bs-example ">
    <ul id="myTab" class="nav nav-pills" >
        <li class="nav-item">
            <a href="#home" class="nav-link active">Home</a>
        </li>
        <li class="nav-item">
            <a href="#search" class="nav-link">Search</a>
        </li>
         <li class="nav-item" >
            <a href="#Database"  class="nav-link ">Database Mgmt</a>
        </li>
        <li class="nav-item">
            <a href="#Access" class="nav-link">Access record</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade show active" id="home">
            <h4 class="mt-2">Home</h4>
            <p>Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui. Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth.</p>
        </div>
        <div class="tab-pane fade" id="search">
          &nbsp
            <h4 class="mt-2">Search</h4>
            <div class="input-group mb-3 float-center" > 
  <input type="text" class="form-control" placeholder="Accession number" aria-label="Recipient's username" aria-describedby="basic-addon2" id="srchdata"  style="width:600px">
  <div class="input-group-append " >
    <div class="dropdown"> 
                <button class="btn btn-primary dropdown-toggle" type="button" id="srchmthd" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Search Method
                </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                      <a class="dropdown-item method2" href="#" id="dropaccnid" >Accession Id</a>
                      <a class="dropdown-item method2" href="#" id="dropauthor" >Author</a>
                      <a class="dropdown-item method2" href="#" id="droptitle" >Title</a>
                      <a class="dropdown-item method2" href="#" id="dropvol" >Volume</a>
                      <a class="dropdown-item method2" href="#" id="droppubl" >Publisher</a>
                      <a class="dropdown-item method2" href="#" id="dropyop" >Year of Publication</a>
                      <a class="dropdown-item method2" href="#" id="droppages" >Pages</a>
                      <a class="dropdown-item method2" href="#" id="dropsourc"> Source</a>
                      <a class="dropdown-item method2" href="#" id="dropclsno" >Class No.</a>
                      <a class="dropdown-item method2" href="#" id="dropbkno" >Book No.</a>
                      <a class="dropdown-item method2" href="#" id="dropcost" >Cost</a>
                      <a class="dropdown-item method2" href="#" id="dropbill" >Bill No.</a>
                      <a class="dropdown-item method2" href="#" id="dropwidtdt" >Withdrawn date</a>
                      <a class="dropdown-item method2" href="#" id="dropentrdt" >Entry date</a>
                      <a class="dropdown-item method2" href="#" id="dropdcc" >DCC No.</a>
                      <a class="dropdown-item method2" href="#" id="dropremrk" >Remarks</a>
                    </div>
          
              <div class="float-right">

                  <div style="padding-left:20px">
                    <button class="btn btn-success" type="button" style="visibility:hidden;border-radius: 10px;" id="filter" >Filters</button>
                    <button class="btn btn-success" id="srch"   type="button" style="border-radius:10px; ">Search</button>
                  </div>
          
              </div>
        
        
        </div>

        
  </div>

  <div id="childfilter" style="visibility:hidden;padding:2em">

    <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="author">Author</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="title">Title</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="volume">Volume</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="publisher">Publisher</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="yearofpublication">Year of publication</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="cost">Cost</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="withdrawndate">Withdrawn date</button>
        <button class="btn btn-outline-secondary " id="btnchildfilter"   type="button" style="visibility:hidden;border-radius: 10px;margin:5px "  value="entrydate">Entry date</button>
        
  
      </div>
      <div class="container-fluid">
  <div class="row">   
  
    <div id="srchfrm" class="form-group col-lg-3 col-md-3" style="visibility:hidden"> 

           <h3>Filter values</h3>
          <input type="text" class="form-control " id="srchfrmauthor" placeholder="Author" style="visibility:hidden;margin:5px;">
          <input type="text" class="form-control " id="srchfrmtitle" placeholder="Title" style="visibility:hidden;margin:5px;">
          <input type="text" class="form-control" id="srchfrmvolume" placeholder="Volume" style="visibility:hidden;margin:5px">
          <input type="text" class="form-control" id="srchfrmpublisher" placeholder="Publisher" style="visibility:hidden;margin:5px">
          <input type="number" class="form-control" id="srchfrmyearofpublication" placeholder="Year of publication" style="visibility:hidden;margin:5px">
          <input type="number" class="form-control" id="srchfrmcost" placeholder="Cost" style="visibility:hidden;margin:5px">
          <input type="date" class="form-control" id="srchfrmwithdrawndate" placeholder="Withdrawn date" style="visibility:hidden;margin:5px">
          <input type="date" class="form-control" id="srchfrmentrydate" placeholder="Entry date" style="visibility:hidden;margin:5px">
          
    </div>

    <div id="srchtable" class="col-lg-9 col-md-9" style="visibility:hidden">
      <h4>Search results</h4>&nbsp
       <div class="table-responsive">
            <table class="table">
                  <thead>
                  <tr>
                    <th>#</th>
                    <th>Firstname</th>
                    <th>Lastname</th>
                    <th>Age</th>
                    <th>City</th>
                    <th>Country</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>Anna</td>
                    <td>Pitt</td>
                    <td>35</td>
                    <td>New York</td>
                    <td>USA</td>
                  </tr>
              </tbody>
            </table>
      </div>
    </div>

</div>
</div>
   </div>
             
</div>
        <div class="tab-pane fade" id="Database">
            <h4 class="mt-2">&nbsp</h4>
            <ul id="myTab" class="nav nav-pills">
        <li class="nav-item" >
            <a href="#Data" id="load" class="nav-link active">Data</a>
        </li>
        <li class="nav-item">
            <a href="#insert" class="nav-link">Insert</a>
        </li>
        <li class="nav-item">
            <a href="#update" class="nav-link">Update</a>
        </li>

        <li class="nav-item">
            <a href="#delete" class="nav-link">Delete</a>
        </li>
            </ul>

        <div class="tab-content">
          <div class="tab-pane fade show active" id="Data">
              <h4 class="mt-2">&nbsp</h4>
                <div class=" container-fluid">
                          <h2>Books database</h2>
                                  &nbsp 
                   <table class="table table-bordered table-hover table-responsive-lg">
                      <thead class="thead-dark ">
                              <tr>
                                <th>Accession no.</th>
                                <th>Author</th>
                                <th>Title</th>
                                <th>Volume</th>
                                <th>Publisher</th>
                                <th>Year of Pub.</th>
                                <th>Pages</th>
                                <th>Source</th>
                                <th>Class no.</th>
                                <th>Book no.</th>
                                <th>Cost</th>
                                <th>Bill no.</th>
                                <th>Withdrawn date</th>
                                <th>Entry date</th>
                                <th>DDC No.</th>
                                <th>Remarks</th>                                
                              </tr>
                      </thead>
                            <tbody id="div2">
                              <tr id="div1"></tr>
                            </tbody>
                    </table>
                </div>
          </div>
        <div class="tab-pane fade show " id="insert">
                <h4 class="mt-2">Insert</h4>
                &nbsp
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Insertion Method
                </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item method" href="#" id ="manual" value="manual">Manual</a>
                      <a class="dropdown-item method" href="#" id="import" value="import">Importing file</a>
                      
                    </div>
                 <div class="add float-right"></div>
            </div>
        <div class="form p-3"></div>
        </div>
          <div class="tab-pane fade" id="update">
              <h4 class="mt-2">Search</h4>
              <p>Vestibulum nec erat eu nulla rhoncus fringilla ut non neque. Vivamus nibh urna, ornare id gravida ut, mollis a magna. Aliquam porttitor condimentum nisi, eu viverra ipsum porta ut. Nam hendrerit bibendum turpis, sed molestie mi fermentum id. Aenean volutpat velit sem. Sed consequat ante in rutrum convallis. Nunc facilisis leo at faucibus adipiscing.</p>
          </div>
          <div class="tab-pane fade" id="delete">
              <h4 class="mt-2">Delete</h4>
              <p>Vestibulum nec erat eu nulla rhoncus fringilla ut non neque. Vivamus nibh urna, ornare id gravida ut, mollis a magna. Aliquam porttitor condimentum nisi, eu viverra ipsum porta ut. Nam hendrerit bibendum turpis, sed molestie mi fermentum id. Aenean volutpat velit sem. Sed consequat ante in rutrum convallis. Nunc facilisis leo at faucibus adipiscing.</p>
          </div>
        </di  v>

        </div>
        <div class="tab-pane fade" id="Access">
            <h4 class="mt-2">Access record</h4>
            <p>Vestibulum nec erat eu nulla rhoncus fringilla ut non neque. Vivamus nibh urna, ornare id gravida ut, mollis a magna. Aliquam porttitor condimentum nisi, eu viverra ipsum porta ut. Nam hendrerit bibendum turpis, sed molestie mi fermentum id. Aenean volutpat velit sem. Sed consequat ante in rutrum convallis. Nunc facilisis leo at faucibus adipiscing.</p>
        </div>
    </div>
</div>
</body>
</html>